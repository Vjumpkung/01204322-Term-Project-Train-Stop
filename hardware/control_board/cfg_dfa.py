STATES = {
    # "0" => initial state
    # "eb..." train is eastbound
    # "wb..." train is westbound
    "0",
    "eb0",
    "eb1",
    "eb2",
    "eb3",
    "eb4",
    "eb5",
    "wb0",
    "wb1",
    "wb2",
    "wb3",
    "wb4",
    "wb5",
}

INPUTS = {
    # "<west_far><west_near><east_near><east_far>"
    "0000",
    "0001",
    "0010",
    "0100",
    "1000",
    "0011",
    "0110",
    "1100",
    "0111",
    "1110",
    "1111",
}

TRANSITIONS = {
    # westbound #
    # ---------------------- #
    ("0", "0001"): "wb0",  # close gates
    # ---------------------- #
    ("wb0", "0100"): "wb1",
    ("wb0", "0110"): "wb1",
    ("wb0", "0111"): "wb1",
    # ---------------------- #
    ("wb1", "0000"): "wb2",  # open gates
    ("wb2", "1000"): "wb3",
    ("wb3", "0000"): "0",
    # ---------------------- #
    ("wb1", "1100"): "wb4",
    ("wb1", "1110"): "wb4",
    ("wb1", "1111"): "wb4",
    ("wb4", "1000"): "wb5",  # open gates
    ("wb5", "0000"): "0",
    # ---------------------- #
    # eastbound #
    # ---------------------- #
    ("0", "1000"): "eb0",  # close gates
    # ---------------------- #
    ("eb0", "0010"): "eb1",
    ("eb0", "0110"): "eb1",
    ("eb0", "1110"): "eb1",
    # ---------------------- #
    ("eb1", "0000"): "eb2",  # open gates
    ("eb2", "0001"): "eb3",
    ("eb3", "0000"): "0",
    # ---------------------- #
    ("eb1", "0011"): "eb4",
    ("eb1", "0111"): "eb4",
    ("eb1", "1111"): "eb4",
    ("eb4", "0001"): "eb5",  # open gates
    ("eb5", "0000"): "0",
    # ---------------------- #
}
